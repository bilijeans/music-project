<template>
  <div class="songslist">
    <div class="songs-play">
      <div class="play-all">
        <svg
          class="icon"
          width="16px"
          height="16.00px"
          viewBox="0 0 1024 1024"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill="#2c2c2c"
            d="M128 138.666667c0-47.232 33.322667-66.666667 74.176-43.562667l663.146667 374.954667c40.96 23.168 40.853333 60.8 0 83.882666L202.176 928.896C161.216 952.064 128 932.565333 128 885.333333v-746.666666z"
          />
        </svg>
        <span
          >播放全部 {{ songsData.dataList ? songsData.dataList.length : 0 }}
        </span>
      </div>
      <div class="download-list">
        <svg
          class="icon"
          width="16px"
          height="16.00px"
          viewBox="0 0 1024 1024"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill="#2c2c2c"
            d="M928 938.666667H138.666667a53.393333 53.393333 0 0 1-53.333334-53.333334v-181.333333a21.333333 21.333333 0 0 1 42.666667 0v181.333333a10.666667 10.666667 0 0 0 10.666667 10.666667h789.333333a10.666667 10.666667 0 0 0 10.666667-10.666667v-181.333333a21.333333 21.333333 0 0 1 42.666666 0v181.333333a53.393333 53.393333 0 0 1-53.333333 53.333334z m-394.666667-213.333334a21.266667 21.266667 0 0 1-15.086666-6.246666l-170.666667-170.666667a21.333333 21.333333 0 0 1 30.173333-30.173333L512 652.5V106.666667a21.333333 21.333333 0 0 1 42.666667 0v545.833333l134.246666-134.253333a21.333333 21.333333 0 1 1 30.173334 30.173333l-170.666667 170.666667A21.266667 21.266667 0 0 1 533.333333 725.333333z"
          />
        </svg>
        <svg
          class="icon"
          width="16px"
          height="16.00px"
          viewBox="0 0 1024 1024"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill="#2c2c2c"
            d="M149.333333 938.666667a21.266667 21.266667 0 0 1-15.086666-6.246667l-42.666667-42.666667a21.333333 21.333333 0 0 1 30.173333-30.173333l27.58 27.586667 112.913334-112.92a21.333333 21.333333 0 0 1 30.173333 30.173333l-128 128A21.266667 21.266667 0 0 1 149.333333 938.666667z m768-42.666667H405.333333a21.333333 21.333333 0 0 1 0-42.666667h512a21.333333 21.333333 0 0 1 0 42.666667zM149.333333 618.666667a21.266667 21.266667 0 0 1-15.086666-6.246667l-42.666667-42.666667a21.333333 21.333333 0 0 1 30.173333-30.173333L149.333333 567.166667l112.913334-112.92a21.333333 21.333333 0 0 1 30.173333 30.173333l-128 128A21.266667 21.266667 0 0 1 149.333333 618.666667z m768-64H405.333333a21.333333 21.333333 0 0 1 0-42.666667h512a21.333333 21.333333 0 0 1 0 42.666667zM149.333333 256a21.266667 21.266667 0 0 1-15.086666-6.246667l-42.666667-42.666666a21.333333 21.333333 0 0 1 30.173333-30.173334L149.333333 204.5l112.913334-112.92a21.333333 21.333333 0 0 1 30.173333 30.173333l-128 128A21.266667 21.266667 0 0 1 149.333333 256z m768-42.666667H405.333333a21.333333 21.333333 0 0 1 0-42.666666h512a21.333333 21.333333 0 0 1 0 42.666666z"
          />
        </svg>
      </div>
    </div>
    <div class="songs">
      <div
        class="songs-item"
        v-for="(i, index) in songsData.dataList"
        :key="i.songId"
      >
        <span>{{ index + 1 }}</span>
        <div class="song-msg" @click="play(i.songId)">
          <div class="songname">{{ i.songName }}</div>
          <div class="song-album">{{ i.album }}</div>
        </div>
        <svg
          @click="moreFunc(i.songName)"
          class="icon"
          width="16px"
          height="16.00px"
          viewBox="0 0 1024 1024"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill="#2c2c2c"
            d="M469.333333 896a42.666667 42.666667 0 1 1 42.666667 42.666667 42.713333 42.713333 0 0 1-42.666667-42.666667m-42.666666 0a85.333333 85.333333 0 1 0 85.333333-85.333333 85.333333 85.333333 0 0 0-85.333333 85.333333z m42.666666-384a42.666667 42.666667 0 1 1 42.666667 42.666667 42.713333 42.713333 0 0 1-42.666667-42.666667m-42.666666 0a85.333333 85.333333 0 1 0 85.333333-85.333333 85.333333 85.333333 0 0 0-85.333333 85.333333z m42.666666-384a42.666667 42.666667 0 1 1 42.666667 42.666667 42.713333 42.713333 0 0 1-42.666667-42.666667m-42.666666 0A85.333333 85.333333 0 1 0 512 42.666667a85.333333 85.333333 0 0 0-85.333333 85.333333z"
          />
        </svg>
      </div>
    </div>
    <div class="morefunc" v-show="moretab">
      <div class="morefunc-title">{{ name }}</div>
      <div class="func">
        <div class="func-item">
          <div>
            <svg
              class="icon"
              width="16px"
              height="16.00px"
              viewBox="0 0 1024 1024"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fill="#2c2c2c"
                d="M138.666667 938.713333a53.58 53.58 0 0 1-53.333334-53.433333V138.72a53.333333 53.333333 0 0 1 80.886667-45.666667l618.666667 373.28a53.333333 53.333333 0 0 1 0 91.333334l-618.666667 373.28a53.16 53.16 0 0 1-27.553333 7.766666z m0.046666-810.666666a10.98 10.98 0 0 0-5.333333 1.42 10.466667 10.466667 0 0 0-5.38 9.253333v746.56a10.666667 10.666667 0 0 0 16.18 9.133333l618.666667-373.28a10.666667 10.666667 0 0 0 0-18.266666l-618.666667-373.28a10.386667 10.386667 0 0 0-5.446667-1.586667zM938.666667 917.333333V106.666667a21.333333 21.333333 0 0 0-42.666667 0v810.666666a21.333333 21.333333 0 0 0 42.666667 0z"
              />
            </svg>
          </div>
          <span>下一首播放</span>
        </div>
        <div class="func-item">
          <div>
            <svg
              class="icon"
              width="16px"
              height="16.00px"
              viewBox="0 0 1024 1024"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fill="#2c2c2c"
                d="M970.666667 213.333333H546.586667a10.573333 10.573333 0 0 1-7.54-3.126666L429.793333 100.953333A52.986667 52.986667 0 0 0 392.08 85.333333H96a53.393333 53.393333 0 0 0-53.333333 53.333334v704a53.393333 53.393333 0 0 0 53.333333 53.333333h874.666667a53.393333 53.393333 0 0 0 53.333333-53.333333V266.666667a53.393333 53.393333 0 0 0-53.333333-53.333334z m10.666666 629.333334a10.666667 10.666667 0 0 1-10.666666 10.666666H96a10.666667 10.666667 0 0 1-10.666667-10.666666V138.666667a10.666667 10.666667 0 0 1 10.666667-10.666667h296.08a10.573333 10.573333 0 0 1 7.54 3.126667l109.253333 109.253333A52.986667 52.986667 0 0 0 546.586667 256H970.666667a10.666667 10.666667 0 0 1 10.666666 10.666667z m-298.666666-309.333334a21.333333 21.333333 0 0 1-21.333334 21.333334H554.666667v106.666666a21.333333 21.333333 0 0 1-42.666667 0V554.666667H405.333333a21.333333 21.333333 0 0 1 0-42.666667h106.666667V405.333333a21.333333 21.333333 0 0 1 42.666667 0v106.666667h106.666666a21.333333 21.333333 0 0 1 21.333334 21.333333z"
              />
            </svg>
          </div>
          <span>加到歌单</span>
        </div>
        <div class="func-item">
          <div>
            <svg
              class="icon"
              width="16px"
              height="16.00px"
              viewBox="0 0 1024 1024"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fill="#2c2c2c"
                d="M149.333333 938.666667a21.333333 21.333333 0 0 1-21.333333-21.333334v-106.666666a85.426667 85.426667 0 0 1-85.333333-85.333334V213.333333a85.426667 85.426667 0 0 1 85.333333-85.333333h768a85.426667 85.426667 0 0 1 85.333333 85.333333v512a85.426667 85.426667 0 0 1-85.333333 85.333334H286.166667l-121.746667 121.753333A21.333333 21.333333 0 0 1 149.333333 938.666667zM128 170.666667a42.713333 42.713333 0 0 0-42.666667 42.666666v512a42.713333 42.713333 0 0 0 42.666667 42.666667h21.333333a21.333333 21.333333 0 0 1 21.333334 21.333333v76.5l91.58-91.586666A21.333333 21.333333 0 0 1 277.333333 768h618.666667a42.713333 42.713333 0 0 0 42.666667-42.666667V213.333333a42.713333 42.713333 0 0 0-42.666667-42.666666z"
              />
            </svg>
          </div>
          <span>评论</span>
        </div>
        <div class="func-item">
          <div>
            <svg
              class="icon"
              width="16px"
              height="16.00px"
              viewBox="0 0 1024 1024"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fill="#2c2c2c"
                d="M512 938.666667a21.28 21.28 0 0 1-13.813333-5.08c-106-90.073333-188.12-163.94-251.133334-225.806667-60.82-59.713333-105.446667-109.92-136.44-153.48-28.96-40.713333-47.133333-76.833333-57.193333-113.673333C44.493333 407.94 42.666667 377.293333 42.666667 341.333333a256 256 0 0 1 469.333333-141.573333A256 256 0 0 1 981.333333 341.333333c0 35.96-1.826667 66.606667-10.753333 99.293334-10.06 36.84-28.233333 72.96-57.193333 113.673333-30.993333 43.56-75.62 93.766667-136.44 153.48-63.013333 61.866667-145.153333 135.733333-251.133334 225.806667A21.266667 21.266667 0 0 1 512 938.666667zM298.666667 128c-117.633333 0-213.333333 95.7-213.333334 213.333333 0 60.793333 4.306667 109.88 60.053334 188.233334C203.926667 611.866667 317.293333 723.14 512 889.333333c194.706667-166.173333 308.073333-277.446667 366.613333-359.746666C934.36 451.213333 938.666667 402.126667 938.666667 341.333333c0-117.633333-95.7-213.333333-213.333334-213.333333-83.1 0-159.226667 48.813333-193.946666 124.353333a21.333333 21.333333 0 0 1-38.773334 0C457.893333 176.813333 381.766667 128 298.666667 128z"
              />
            </svg>
          </div>
          <span>收藏</span>
        </div>
        <div class="func-item">
          <div>
            <svg
              t="1665739418463"
              class="icon"
              viewBox="0 0 1024 1024"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              p-id="23523"
              xmlns:xlink="http://www.w3.org/1999/xlink"
              width="16"
              height="16"
            >
              <path
                d="M857.593333 826c-24.666667-23.333333-51.1-41.633333-80.733333-55.9-26.186667-12.606667-52.6-21.066667-78.14-29.246667-27.106667-8.666667-55.14-17.653333-84.533333-31.933333-30.54-14.833333-47.833333-40.52-51.513334-76.433333C607 603.12 636.973333 558.333333 646.406667 508c17.473333-1.74 33.333333-14.066667 44-34.433333 9.433333-18 14.626667-41.406667 14.626666-66 0-14.946667 3.18-29.153333 6-41.693334 4.206667-18.753333 7.833333-34.946667-2.526666-47.893333-4-5.033333-11.606667-11.033333-24.8-11.033333a50.666667 50.666667 0 0 0-6.76 0.48q0.186667-2.22 0.32-4.186667c5.886667-90.44 2-145.333333-35.393334-176.366667-57.806667-48-105.8-40.666667-144.373333-34.78-11.406667 1.74-22.24 3.393333-32.373333 3.46 1.873333-3.686667 5.526667-9.373333 12.666666-17.333333a21.333333 21.333333 0 0 0-22.733333-34.413333c-1.473333 0.493333-36.386667 12.32-71.766667 28.38-21.333333 9.7-38.533333 18.993333-51.026666 27.62a120.26 120.26 0 0 0-14.133334 11.2 48.826667 48.826667 0 0 1-3.013333-10 21.086667 21.086667 0 0 0-12-16.366667 21.333333 21.333333 0 0 0-20.426667 1.333333c-24.746667 15.48-42.42 42.22-52.526666 79.48C222.393333 194.033333 218.666667 230 218.666667 275.446667c0 9.493333 0.42 20.04 1.24 31.533333-11.94 0.52-18.773333 6.666667-21.846667 10.433333-10.306667 12.573333-7.04 28.973333-3.26 47.96 2.526667 12.666667 5.38 26.986667 5.38 42.193334 0 24.226667 4.553333 47.333333 12.826667 65.08 11.013333 23.613333 25.44 31.886667 36.446666 34.48a188.206667 188.206667 0 0 0 29.133334 71.206666A199.1 199.1 0 0 0 338.666667 635.886667c-4.513333 34.1-22 58.613333-52.053334 72.973333-29.933333 14.3-58.473333 23.28-86.073333 32-25.96 8.173333-52.806667 16.62-79.413333 29.213333-30.106667 14.253333-56.933333 32.513333-82 55.833334-30.2 28.073333-37.84 70-38.933334 100.173333a53.333333 53.333333 0 0 0 53.333334 55.286667h789.026666a53.333333 53.333333 0 0 0 53.333334-55.253334c-1.1-30.2-8.606667-72.046667-38.293334-100.113333z m-7.373333 109.413333a10.593333 10.593333 0 0 1-7.666667 3.253334H53.446667a10.666667 10.666667 0 0 1-10.666667-11.08c0.8-22.14 5.846667-52.34 25.333333-70.466667 48.62-45.2 93.373333-59.286667 145.193334-75.593333 29.006667-9.133333 59.006667-18.573333 91.646666-34.166667 27.42-13.093333 48-32.566667 61.153334-57.88 9.82-18.88 15.273333-40.586667 16.213333-64.52a21.333333 21.333333 0 0 0-11.386667-19.713333C323.14 580.093333 292.666667 534.32 289.38 482.8a21.333333 21.333333 0 0 0-30.78-17.753333c-5.266667-4.266667-15.746667-24.34-15.746667-57.48 0-19.413333-3.44-36.666667-6.2-50.526667-0.086667-0.453333-0.18-0.906667-0.273333-1.373333a21.333333 21.333333 0 0 0 28.846667-22.333334C262.666667 310.833333 261.333333 291.333333 261.333333 275.406667c-0.033333-41.58 3.233333-73.906667 10-98.82 3.866667-14.273333 8.813333-26 14.92-35.286667 7.233333 10.473333 17.68 19.486667 32.226667 22.786667a21.333333 21.333333 0 0 0 25.966667-18.846667c2.26-3.08 13.773333-15.533333 63.4-37.333333 4.273333-1.873333 8.52-3.686667 12.666666-5.406667a36.366667 36.366667 0 0 0 2.973334 13.053333c5.96 13.733333 20.113333 22.186667 37.866666 22.613334 14.666667 0.346667 28.873333-1.82 42.6-3.913334 36.286667-5.54 67.62-10.326667 110.666667 25.426667 6.753333 5.606667 15.046667 15.333333 19.24 40.886667 3.633333 22.146667 3.886667 52.946667 0.833333 99.88-0.5 7.693333-1.946667 19.74-4.293333 35.793333a21.333333 21.333333 0 0 0 31.6 21.7c2.933333-1.653333 5.62-2.993333 8-4.08-0.206667 0.92-0.406667 1.826667-0.6 2.666667-3.133333 14-7.026667 31.333333-7.026667 51.026666 0 17.533333-3.553333 34.353333-9.746666 46.153334-4.626667 8.826667-9.16 11.8-10.52 11.8a4.513333 4.513333 0 0 1-2-0.926667 21.333333 21.333333 0 0 0-33.373334 16.493333c-2.573333 50-31.24 95.42-76.666666 121.42a21.333333 21.333333 0 0 0-10.733334 18.953334c0.486667 24.366667 5.526667 46.52 14.98 65.84 12.886667 26.333333 33.5 46.526667 61.266667 60 32.126667 15.606667 61.626667 25.053333 90.16 34.193333 50.88 16.286667 94.82 30.36 142.573333 75.506667 19.18 18.14 24.146667 48.4 24.933334 70.593333a10.666667 10.666667 0 0 1-3.026667 7.833333zM853.333333 277.333333a21.333333 21.333333 0 0 1 21.333334-21.333333h128a21.333333 21.333333 0 0 1 0 42.666667h-128a21.333333 21.333333 0 0 1-21.333334-21.333334z m170.666667 256a21.333333 21.333333 0 0 1-21.333333 21.333334h-170.666667a21.333333 21.333333 0 0 1 0-42.666667h170.666667a21.333333 21.333333 0 0 1 21.333333 21.333333z m0 256a21.333333 21.333333 0 0 1-21.333333 21.333334h-42.666667a21.333333 21.333333 0 0 1 0-42.666667h42.666667a21.333333 21.333333 0 0 1 21.333333 21.333333z"
                fill="#5C5C66"
                p-id="23524"
              ></path>
            </svg>
          </div>
          <span>歌手详情</span>
        </div>
        <div class="func-item">
          <div>
            <svg
              class="icon"
              width="16px"
              height="16.00px"
              viewBox="0 0 1024 1024"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fill="#2c2c2c"
                d="M512 0C229.376 0 0 229.376 0 512s229.376 512 512 512 512-229.376 512-512S794.624 0 512 0z m0 732.16c-121.344 0-220.16-98.816-220.16-220.16s98.816-220.16 220.16-220.16 220.16 98.816 220.16 220.16-98.816 220.16-220.16 220.16zM512 361.472c-82.944 0-150.528 67.584-150.528 150.528s67.584 150.528 150.528 150.528 150.528-67.584 150.528-150.528-67.584-150.528-150.528-150.528z m0 232.448c-45.056 0-81.92-36.864-81.92-81.92s36.864-81.92 81.92-81.92 81.92 36.864 81.92 81.92-36.864 81.92-81.92 81.92z"
              />
            </svg>
          </div>
          <span>专辑详情</span>
        </div>
      </div>
      <div class="morefunc-cancel" @click="cancelmorefunc()">取消</div>
    </div>
    <div class="shadow" v-show="moretab" @click="cancelmorefunc()"></div>
    <router-view></router-view>
  </div>
</template>

<script>
import { mapActions } from "vuex";
export default {
  props: { songsData: Object },
  methods: {
    moreFunc(name) {
      this.moretab = true;
      this.name = name;
    },
    cancelmorefunc() {
      this.moretab = false;
    },
    ...mapActions({
      play: "getPlayURL",
    }),
  },
  data() {
    return {
      moretab: false,
      name: "",
    };
  },
  created() {},
};
</script>

<style lang="scss" scoped>
.songslist {
  position: relative;
  width: 100%;
  margin: 210px 0 0 0;
  border-top-left-radius: 20px;
  .songs-play {
    position: sticky;
    top: 40px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 15px;
    border-top-left-radius: 20px;
    background-color: #fff;
    svg {
      width: 20px;
      height: 20px;
    }
    .play-all {
      display: flex;
      align-items: center;
      justify-content: space-between;
      width: 130px;
      padding: 8px 15px;
      font-size: 12px;
      border-radius: 20px;
      color: #666;
      background-color: #fafafa;
      svg {
        width: 15px;
        height: 15px;
      }
    }
    .download-list {
      width: 55px;
      display: flex;
      justify-content: space-between;
    }
  }
  .songs {
    background-color: #fff;
    height: calc(100vh - 108px);
    overflow: auto;
    &::-webkit-scrollbar {
      width: 0;
    }
    .songs-item:nth-of-type(-n + 3) span {
      color: #da4165;
    }
    .songs-item {
      padding: 10px;
      display: flex;
      align-items: center;
      justify-content: space-around;
      span {
        display: block;
        font-size: 14px;
      }
      .song-msg {
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        width: 280px;
        height: 35px;
        font-size: 13px;
        .songname {
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
        }
        .song-album {
          font-size: 12px;
          color: #999;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
        }
      }
    }
  }
  .morefunc {
    display: flex;
    flex-direction: column;
    position: fixed;
    bottom: 0;
    width: 100%;
    border-top-left-radius: 8px;
    border-top-right-radius: 8px;
    background-color: #fff;
    z-index: 999;

    .morefunc-title {
      padding: 15px;
      font-size: 13px;
      line-height: 20px;
    }
    .func {
      display: flex;
      flex-wrap: wrap;
      .func-item {
        display: flex;
        align-items: center;
        flex-direction: column;
        width: 25%;
        margin: 5px 0 0 0;
        padding: 10px 0;
        font-size: 12px;
        div {
          display: flex;
          align-items: center;
          justify-content: space-around;
          width: 50px;
          height: 50px;
          border-radius: 999px;
          background-color: rgba($color: #ccc, $alpha: 0.4);
          svg {
            width: 20px;
            height: 20px;
          }
        }
        span {
          display: block;
          padding: 8px 0 0 0;
        }
      }
    }
    .morefunc-cancel {
      border-top: 1px dotted #ccc;
      padding: 15px 0 20px;
      font-size: 15px;
      display: flex;
      align-items: center;
      justify-content: space-around;
    }
  }
  .shadow {
    position: fixed;
    top: 0;
    width: 100vw;
    height: 100vh;
    background-color: rgba($color: #ccc, $alpha: 0.4);
    z-index: 1;
  }
}
</style>